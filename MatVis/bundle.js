!function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,o,i,n,a){var s=Math.atan2(n-o,i-e);t.beginPath(),t.moveTo(e,o),t.lineTo(i-.8*a*Math.cos(s),n-.8*a*Math.sin(s)),t.lineTo(i-a*Math.cos(s-Math.PI/7),n-a*Math.sin(s-Math.PI/7)),t.lineTo(i,n),t.lineTo(i-a*Math.cos(s+Math.PI/7),n-a*Math.sin(s+Math.PI/7)),t.lineTo(i-.8*a*Math.cos(s),n-.8*a*Math.sin(s)),t.closePath(),t.stroke(),t.fill()}function s(t,e,o,i){t.beginPath(),t.arc(e,o,i,0,2*Math.PI,!1),t.moveTo(e,o+i/2),t.lineTo(e,o+3*i/2),t.moveTo(e,o-i/2),t.lineTo(e,o-3*i/2),t.moveTo(e+i/2,o),t.lineTo(e+3*i/2,o),t.moveTo(e-i/2,o),t.lineTo(e-3*i/2,o),t.stroke()}var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),l=function(t){function e(){o(this,e);var t=i(this,Object.getPrototypeOf(e).call(this));return t.state={a:0,c:1,b:-1,d:0,x:1,y:1,currentCrossHair:0},t.handleMouseDown=t.handleMouseDown.bind(t),t.handleMouseUp=t.handleMouseUp.bind(t),t.handleMouseMove=t.handleMouseMove.bind(t),t}return n(e,t),r(e,[{key:"getMousePos",value:function(t){var e=this.refs.canvas,o=e.getBoundingClientRect(),i=this.props.scale*o.width/e.width,n=-this.props.scale*o.height/e.height,a=(t.clientX-o.left-o.width/2)/i,s=(t.clientY-o.top-o.height/2)/n;return{x:a,y:s}}},{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"componentDidUpdate",value:function(){this.updateCanvas()}},{key:"handleMouseDown",value:function(t){var e=this.getMousePos(t),o=numeric.norm2(numeric.sub([e.x,e.y],[this.state.a,this.state.c])),i=numeric.norm2(numeric.sub([e.x,e.y],[this.state.b,this.state.d])),n=numeric.norm2(numeric.sub([e.x,e.y],[this.state.x,this.state.y]));Math.min(o,i,n)==o?this.state.currentCrossHair=1:Math.min(o,i,n)==i?this.state.currentCrossHair=2:Math.min(o,i,n)==n&&(this.state.currentCrossHair=3),this.handleMouseMove(t)}},{key:"handleMouseUp",value:function(t){this.state.currentCrossHair=0}},{key:"handleMouseMove",value:function(t){if(0!=this.state.currentCrossHair){var e=this.getMousePos(t);1==this.state.currentCrossHair?(this.state.a=e.x,this.state.c=e.y):2==this.state.currentCrossHair?(this.state.b=e.x,this.state.d=e.y):3==this.state.currentCrossHair&&(this.state.x=e.x,this.state.y=e.y),this.updateCanvas()}}},{key:"updateCanvas",value:function(){var t=this.refs.canvas;t.style.backgroundColor="rgba(0, 0, 0, 1)";var e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),e.save(),e.translate(t.width/2,t.height/2),e.scale(this.props.scale,-this.props.scale);var o=[[this.state.a,this.state.b],[this.state.c,this.state.d]],i=[[1-this.props.t+this.props.t*this.state.a,this.props.t*this.state.b],[this.props.t*this.state.c,1-this.props.t+this.props.t*this.state.d]];e.lineWidth=.02,e.strokeStyle="#212121";for(var n=-19.5;n<=19.5;n++)e.beginPath(),e.moveTo(-20,n),e.lineTo(20,n),e.stroke(),e.beginPath(),e.moveTo(n,-20),e.lineTo(n,20),e.stroke();e.strokeStyle="#606060";for(var r=-20;r<=20;r++)e.beginPath(),e.moveTo(-20,r),e.lineTo(20,r),e.stroke(),e.beginPath(),e.moveTo(r,-20),e.lineTo(r,20),e.stroke();e.lineWidth=.04,e.strokeStyle="#1fabc3";for(var l=-20;l<=20;l++)e.beginPath(),e.moveTo.apply(e,numeric.dot(i,[-20,l])),e.lineTo.apply(e,numeric.dot(i,[20,l])),e.stroke(),e.beginPath(),e.moveTo.apply(e,numeric.dot(i,[l,-20])),e.lineTo.apply(e,numeric.dot(i,[l,20])),e.stroke();e.strokeStyle="#ffffff",e.beginPath(),e.moveTo.apply(e,numeric.dot(i,[-20,0])),e.lineTo.apply(e,numeric.dot(i,[20,0])),e.stroke(),e.beginPath(),e.moveTo.apply(e,numeric.dot(i,[0,-20])),e.lineTo.apply(e,numeric.dot(i,[0,20])),e.stroke(),e.strokeStyle="#8cbe63",e.fillStyle="#8cbe63";var h=numeric.dot(i,[1,0]);a(e,0,0,h[0],h[1],.2),e.strokeStyle="#ff7c5c",e.fillStyle="#ff7c5c";var c=numeric.dot(i,[0,1]);a(e,0,0,c[0],c[1],.2),e.strokeStyle="#fdfe00",e.fillStyle="#fdfe00";var u=numeric.dot(i,[this.state.x,this.state.y]);a(e,0,0,u[0],u[1],.2),e.strokeStyle="#8cbe63",e.fillStyle="#8cbe63",s(e,this.state.a,this.state.c,.16),e.strokeStyle="#ff7c5c",e.fillStyle="#ff7c5c",s(e,this.state.b,this.state.d,.16),e.strokeStyle="#fdfe00",e.fillStyle="#fdfe00",s(e,this.state.x,this.state.y,.16),e.restore(),e.lineWidth=4,e.strokeStyle="#ffffff",e.beginPath(),e.moveTo(15,10),e.lineTo(10,10),e.lineTo(10,80),e.lineTo(15,80),e.stroke(),e.beginPath(),e.moveTo(155,10),e.lineTo(160,10),e.lineTo(160,80),e.lineTo(155,80),e.stroke(),e.beginPath(),e.moveTo(175,10),e.lineTo(170,10),e.lineTo(170,80),e.lineTo(175,80),e.stroke(),e.beginPath(),e.moveTo(235,10),e.lineTo(240,10),e.lineTo(240,80),e.lineTo(235,80),e.stroke(),e.beginPath(),e.moveTo(280,10),e.lineTo(275,10),e.lineTo(275,80),e.lineTo(280,80),e.stroke(),e.beginPath(),e.moveTo(340,10),e.lineTo(345,10),e.lineTo(345,80),e.lineTo(340,80),e.stroke(),e.font="20pt serif",e.fillStyle="#8cbe63",e.fillText(this.state.a.toFixed(2),20,35),e.fillText(this.state.c.toFixed(2),20,75),e.fillStyle="#ff7c5c",e.fillText(this.state.b.toFixed(2),90,35),e.fillText(this.state.d.toFixed(2),90,75),e.fillStyle="#fdfe00",e.fillText(this.state.x.toFixed(2),180,35),e.fillText(this.state.y.toFixed(2),180,75),e.fillStyle="#ffffff",e.fillText("=",250,50);var f=numeric.dot(o,[this.state.x,this.state.y]);e.fillText(f[0].toFixed(2),285,35),e.fillText(f[1].toFixed(2),285,75)}},{key:"render",value:function(){return React.createElement("canvas",{id:"matvis",ref:"canvas",width:1140,height:640,style:{width:"100%"},onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp})}}]),e}(React.Component),h=function(t){function e(){o(this,e);var t=i(this,Object.getPrototypeOf(e).call(this));return t.state={t:0},t.handleChange=t.handleChange.bind(t),t}return n(e,t),r(e,[{key:"handleChange",value:function(t){this.setState({t:t.target.value})}},{key:"render",value:function(){return React.createElement("div",{id:"mainContainer",className:"container"},React.createElement("h1",null,React.createElement("a",{href:"https://youtu.be/kYB8IZa5AuE"},"Linear Transformation Visualizer - Inspired by 3Blue1Brown")),React.createElement("ul",null,React.createElement("li",null,"Drag the green and red targets to set in the transformed basis vectors."),React.createElement("li",null,"Drag the yellow target to set the input vector."),React.createElement("li",null,"Drag the t slider to visualize the transformation.")),React.createElement(l,{t:this.state.t,scale:60}),React.createElement(ReactBootstrap.ListGroup,null,React.createElement(ReactBootstrap.ListGroupItem,{header:"t ("+this.state.t+")"},React.createElement("input",{type:"range",min:0,max:1,step:.01,value:this.state.t,onChange:this.handleChange}))))}}]),e}(React.Component);ReactDOM.render(React.createElement(h,null),document.getElementById("app"))}]);