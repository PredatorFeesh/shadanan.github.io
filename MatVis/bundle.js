!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n,o,i,a){var s=Math.atan2(i-n,o-t);e.beginPath(),e.moveTo(t,n),e.lineTo(o-.8*a*Math.cos(s),i-.8*a*Math.sin(s)),e.lineTo(o-a*Math.cos(s-Math.PI/7),i-a*Math.sin(s-Math.PI/7)),e.lineTo(o,i),e.lineTo(o-a*Math.cos(s+Math.PI/7),i-a*Math.sin(s+Math.PI/7)),e.lineTo(o-.8*a*Math.cos(s),i-.8*a*Math.sin(s)),e.closePath(),e.stroke(),e.fill()}function s(e,t,n,o){e.beginPath(),e.arc(t,n,o,0,2*Math.PI,!1),e.moveTo(t,n+o/2),e.lineTo(t,n+3*o/2),e.moveTo(t,n-o/2),e.lineTo(t,n-3*o/2),e.moveTo(t+o/2,n),e.lineTo(t+3*o/2,n),e.moveTo(t-o/2,n),e.lineTo(t-3*o/2,n),e.stroke()}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function(e){function t(){n(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.state={a:0,c:1,b:-1,d:0,x:1,y:1,currentCrossHair:0},e.handleMouseDown=e.handleMouseDown.bind(e),e.handleMouseUp=e.handleMouseUp.bind(e),e.handleMouseMove=e.handleMouseMove.bind(e),e}return i(t,e),r(t,[{key:"getMousePos",value:function(e){var t=this.refs.canvas,n=t.getBoundingClientRect(),o=this.props.scale*n.width/t.width,i=-this.props.scale*n.height/t.height,a=(e.clientX-n.left-n.width/2)/o,s=(e.clientY-n.top-n.height/2)/i;return{x:a,y:s}}},{key:"componentDidMount",value:function(){var e=this,t=this.refs.canvas;t.addEventListener("touchstart",function(t){var n=new MouseEvent("mousedown",{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY});e.handleMouseDown(n)},!1),t.addEventListener("touchend",function(t){var n=new MouseEvent("mouseup",{});e.handleMouseUp(n)},!1),t.addEventListener("touchmove",function(t){var n=new MouseEvent("mousemove",{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY});e.handleMouseMove(n)},!1),document.body.addEventListener("touchstart",function(e){e.target==t&&e.preventDefault()},!1),document.body.addEventListener("touchend",function(e){e.target==t&&e.preventDefault()},!1),document.body.addEventListener("touchmove",function(e){e.target==t&&e.preventDefault()},!1),this.updateCanvas()}},{key:"componentDidUpdate",value:function(){this.updateCanvas()}},{key:"handleMouseDown",value:function(e){var t=this.getMousePos(e),n=numeric.norm2(numeric.sub([t.x,t.y],[this.state.a,this.state.c])),o=numeric.norm2(numeric.sub([t.x,t.y],[this.state.b,this.state.d])),i=numeric.norm2(numeric.sub([t.x,t.y],[this.state.x,this.state.y]));Math.min(n,o,i)==n?this.state.currentCrossHair=1:Math.min(n,o,i)==o?this.state.currentCrossHair=2:Math.min(n,o,i)==i&&(this.state.currentCrossHair=3),this.handleMouseMove(e)}},{key:"handleMouseUp",value:function(e){this.state.currentCrossHair=0}},{key:"handleMouseMove",value:function(e){if(0!=this.state.currentCrossHair){var t=this.getMousePos(e);1==this.state.currentCrossHair?(this.state.a=t.x,this.state.c=t.y):2==this.state.currentCrossHair?(this.state.b=t.x,this.state.d=t.y):3==this.state.currentCrossHair&&(this.state.x=t.x,this.state.y=t.y),this.updateCanvas()}}},{key:"updateCanvas",value:function(){var e=this.refs.canvas;e.style.backgroundColor="rgba(0, 0, 0, 1)";var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),t.save(),t.translate(e.width/2,e.height/2),t.scale(this.props.scale,-this.props.scale);var n=[[this.state.a,this.state.b],[this.state.c,this.state.d]],o=[[1-this.props.t+this.props.t*this.state.a,this.props.t*this.state.b],[this.props.t*this.state.c,1-this.props.t+this.props.t*this.state.d]];t.lineWidth=.02,t.strokeStyle="#212121";for(var i=-19.5;i<=19.5;i++)t.beginPath(),t.moveTo(-20,i),t.lineTo(20,i),t.stroke(),t.beginPath(),t.moveTo(i,-20),t.lineTo(i,20),t.stroke();t.strokeStyle="#606060";for(var r=-20;r<=20;r++)t.beginPath(),t.moveTo(-20,r),t.lineTo(20,r),t.stroke(),t.beginPath(),t.moveTo(r,-20),t.lineTo(r,20),t.stroke();t.lineWidth=.04,t.strokeStyle="#1fabc3";for(var l=-20;l<=20;l++)t.beginPath(),t.moveTo.apply(t,numeric.dot(o,[-20,l])),t.lineTo.apply(t,numeric.dot(o,[20,l])),t.stroke(),t.beginPath(),t.moveTo.apply(t,numeric.dot(o,[l,-20])),t.lineTo.apply(t,numeric.dot(o,[l,20])),t.stroke();t.strokeStyle="#ffffff",t.beginPath(),t.moveTo.apply(t,numeric.dot(o,[-20,0])),t.lineTo.apply(t,numeric.dot(o,[20,0])),t.stroke(),t.beginPath(),t.moveTo.apply(t,numeric.dot(o,[0,-20])),t.lineTo.apply(t,numeric.dot(o,[0,20])),t.stroke(),t.strokeStyle="#8cbe63",t.fillStyle="#8cbe63";var c=numeric.dot(o,[1,0]);a(t,0,0,c[0],c[1],.2),t.strokeStyle="#ff7c5c",t.fillStyle="#ff7c5c";var h=numeric.dot(o,[0,1]);a(t,0,0,h[0],h[1],.2),t.strokeStyle="#fdfe00",t.fillStyle="#fdfe00";var u=numeric.dot(o,[this.state.x,this.state.y]);a(t,0,0,u[0],u[1],.2),t.strokeStyle="#8cbe63",t.fillStyle="#8cbe63",s(t,this.state.a,this.state.c,.16),t.strokeStyle="#ff7c5c",t.fillStyle="#ff7c5c",s(t,this.state.b,this.state.d,.16),t.strokeStyle="#fdfe00",t.fillStyle="#fdfe00",s(t,this.state.x,this.state.y,.16),t.restore(),t.lineWidth=4,t.strokeStyle="#ffffff",t.beginPath(),t.moveTo(15,10),t.lineTo(10,10),t.lineTo(10,80),t.lineTo(15,80),t.stroke(),t.beginPath(),t.moveTo(155,10),t.lineTo(160,10),t.lineTo(160,80),t.lineTo(155,80),t.stroke(),t.beginPath(),t.moveTo(175,10),t.lineTo(170,10),t.lineTo(170,80),t.lineTo(175,80),t.stroke(),t.beginPath(),t.moveTo(235,10),t.lineTo(240,10),t.lineTo(240,80),t.lineTo(235,80),t.stroke(),t.beginPath(),t.moveTo(280,10),t.lineTo(275,10),t.lineTo(275,80),t.lineTo(280,80),t.stroke(),t.beginPath(),t.moveTo(340,10),t.lineTo(345,10),t.lineTo(345,80),t.lineTo(340,80),t.stroke(),t.font="20pt serif",t.fillStyle="#8cbe63",t.fillText(this.state.a.toFixed(2),20,35),t.fillText(this.state.c.toFixed(2),20,75),t.fillStyle="#ff7c5c",t.fillText(this.state.b.toFixed(2),90,35),t.fillText(this.state.d.toFixed(2),90,75),t.fillStyle="#fdfe00",t.fillText(this.state.x.toFixed(2),180,35),t.fillText(this.state.y.toFixed(2),180,75),t.fillStyle="#ffffff",t.fillText("=",250,50);var f=numeric.dot(n,[this.state.x,this.state.y]);t.fillText(f[0].toFixed(2),285,35),t.fillText(f[1].toFixed(2),285,75)}},{key:"render",value:function(){return React.createElement("canvas",{id:"matvis",ref:"canvas",width:1140,height:640,style:{width:"100%"},onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp})}}]),t}(React.Component),c=function(e){function t(){n(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.state={t:0},e.handleChange=e.handleChange.bind(e),e}return i(t,e),r(t,[{key:"handleChange",value:function(e){this.setState({t:e.target.value})}},{key:"render",value:function(){return React.createElement("div",{id:"mainContainer",className:"container"},React.createElement("h4",null,React.createElement("a",{href:"https://youtu.be/kYB8IZa5AuE"},"Linear Transformation Visualizer - Inspired by 3Blue1Brown")),React.createElement(l,{t:this.state.t,scale:60}),React.createElement(ReactBootstrap.ListGroup,null,React.createElement(ReactBootstrap.ListGroupItem,{header:"t ("+this.state.t+")"},React.createElement("input",{type:"range",min:0,max:1,step:.01,value:this.state.t,onChange:this.handleChange}))),React.createElement("h4",null,"Instructions"),React.createElement("ul",null,React.createElement("li",null,"Drag the green and red targets to set in the transformed basis vectors."),React.createElement("li",null,"Drag the yellow target to set the input vector."),React.createElement("li",null,"Drag the t slider to visualize the transformation.")))}}]),t}(React.Component);ReactDOM.render(React.createElement(c,null),document.getElementById("app"))}]);